<!doctype html>
<html lang="zh-cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">rm_gimbal_controllers | rm-controls documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://rm-controls.github.io/digging_deeper/controllers/rm_gimbal_controllers"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-cn"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="rm_gimbal_controllers | rm-controls documentation"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://rm-controls.github.io/digging_deeper/controllers/rm_gimbal_controllers"><link data-react-helmet="true" rel="alternate" href="https://rm-controls.github.io/en/digging_deeper/controllers/rm_gimbal_controllers" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rm-controls.github.io/digging_deeper/controllers/rm_gimbal_controllers" hreflang="zh-cn"><link data-react-helmet="true" rel="alternate" href="https://rm-controls.github.io/digging_deeper/controllers/rm_gimbal_controllers" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9ab53e91.css">
<link rel="preload" href="/assets/js/runtime~main.86042bc5.js" as="script">
<link rel="preload" href="/assets/js/main.5c2d5ba0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" role="banner"><div class="announcementBarContent_3EUC announcementBarCloseable_3myR">‚≠êÔ∏è If you like rm-controls, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/rm-controls/rm_control">rm_control</a> and <a target="_blank" rel="noopener noreferrer" href="https://github.com/rm-controls/rm_controllers">rm_controllers</a> ! ‚≠êÔ∏è</div><button type="button" class="announcementBarClose_38nx clean-btn" aria-label="Close"><span aria-hidden="true">√ó</span></button></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">rm-controls</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/get-started">Get Started</a><a class="navbar__item navbar__link navbar__link--active" href="/overview/intro">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_3vod"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>‰∏≠Êñá</span></span></a><ul class="dropdown__menu"><li><a href="/en/digging_deeper/controllers/rm_gimbal_controllers" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/digging_deeper/controllers/rm_gimbal_controllers" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">‰∏≠Êñá</a></li></ul></div><a href="https://github.com/rm-controls" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m"><b>rm-controls</b></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Ê¶ÇËø∞</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Âø´ÈÄüÂÖ•Èó®</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ÂºÄÂèëÊåáÂçó</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Digging deeper</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">ÊéßÂà∂Âô®</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/digging_deeper/controllers/rm_calibration_controllers">rm_calibration_controllers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/digging_deeper/controllers/rm_chassis_controllers">rm_chassis_controllers</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/digging_deeper/controllers/rm_gimbal_controllers">rm_gimbal_controllers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/digging_deeper/controllers/rm_shooter_controllers">rm_shooter_controller</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">ÁêÜËÆ∫</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/digging_deeper/rt_kernel">ÂÆûÊó∂ÂÜÖÊ†∏ÁöÑÁºñËØë</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/digging_deeper/rt_test">ÊµãËØïÂÜÖÊ†∏ÂÆûÊó∂ÊÄß</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>rm_gimbal_controllers</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>The rm_gimbal_controllers has three states: RATE, TRACK, and DIRECT. It performs PID control on the yaw joint and pitch joint according to commands. It can also perform moving average filtering based on detection data and calculate, predict and track targets based on the ballistic model.</p><p><strong>Keywords:</strong> ROS, Robomaster, gimbal, bullet solver, moving average filter</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="license"></a>License<a class="hash-link" href="#license" title="Direct link to heading">#</a></h3><p>The source code is released under a <a href="https://github.com/rm-controls/rm_controllers/blob/master/LICENSE" target="_blank" rel="noopener noreferrer"> BSD 3-Clause license</a>.</p><p><strong>Author: DynamicX<br>
Affiliation: DynamicX<br>
Maintainer: DynamicX</strong></p><p>The package has been tested under <a href="https://www.ros.org/" target="_blank" rel="noopener noreferrer">ROS</a> Indigo, Melodic and Noetic on respectively Ubuntu 18.04 and 20.04. This is research code, expect that it changes often and any fitness for a particular purpose is disclaimed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="hardware-interface-type"></a>Hardware interface type<a class="hash-link" href="#hardware-interface-type" title="Direct link to heading">#</a></h3><ul><li><code>JointStateInterface</code> Used to get the speed and position of gimbal joint.</li><li><code>EffortJointInterface</code> Used to send effort command to gimbal joint .</li><li><code>RoboStateInterface</code> Used to get the current and historical transform between gimbal and the world coordinate system and the transform between visual target and the world coordinate system.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="installation"></a>Installation<a class="hash-link" href="#installation" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="installation-from-packages"></a>Installation from Packages<a class="hash-link" href="#installation-from-packages" title="Direct link to heading">#</a></h3><p>To install all packages from the this repository as Debian packages use</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install ros-noetic-rm-gimbal-controllers</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Or better, use <code>rosdep</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">sudo rosdep install --from-paths src</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="building-from-source"></a>Building from Source<a class="hash-link" href="#building-from-source" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="dependencies"></a>Dependencies<a class="hash-link" href="#dependencies" title="Direct link to heading">#</a></h4><ul><li>roscpp</li><li>roslint</li><li>rm_msgs</li><li>rm_common</li><li>pluginlib</li><li>hardware_interface</li><li>controller_interface</li><li>forward_command_controller</li><li>realtime_tools</li><li>control_toolbox</li><li>effort_controllers</li><li>tf2</li><li>tf2_geometry_msgs</li><li>angles</li><li>visualization_msgs</li><li>dynamic_reconfigure</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="building"></a>Building<a class="hash-link" href="#building" title="Direct link to heading">#</a></h4><p>To build from source, clone the latest version from this repository into your catkin workspace and compile the package using</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd catkin_workspace/src</span></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/rm-controls/rm_controllers.git</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ../</span></span><span class="token-line" style="color:#393A34"><span class="token plain">rosdep install --from-paths . --ignore-src</span></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin build</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><p>Run the controller with mon launch:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  mon launch rm_gimbal_controller load_controllers.launch</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="launch-files"></a>Launch files<a class="hash-link" href="#launch-files" title="Direct link to heading">#</a></h2><ul><li><strong>load_controllers.launch</strong>: Load the parameters in config files and load tf and robot_state_controller, joint_state_controller, gimbal_controller.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="ros-api"></a>ROS API<a class="hash-link" href="#ros-api" title="Direct link to heading">#</a></h2><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="subscribed-topics"></a>Subscribed Topics<a class="hash-link" href="#subscribed-topics" title="Direct link to heading">#</a></h4><ul><li><p><strong><code>command</code></strong> (rm_msgs/GimbalCmd)</p><p>Set gimbal mode, pitch and yaw axis rotation speed, tracking target, pointing target and coordinate system.</p></li><li><p><strong><code>/detection</code></strong> (rm_msgs/TargetDetectionArray)</p><p>Receive visual recognition data.</p></li><li><p><strong><code>/&lt;camera_name&gt;/camera_info</code></strong> (CameraInfo)</p><p>Make sure that the detection node receives a new frame of image and sends the prediction data to the detection node.</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="published-topics"></a>Published Topics<a class="hash-link" href="#published-topics" title="Direct link to heading">#</a></h4><ul><li><p><strong><code>error</code></strong> (rm_msgs/GimbalDesError)
The error calculated by the ballistic model to shoot at the current gimbal angle to the target.</p></li><li><p><strong><code>track</code></strong> (rm_msgs/TrackDataArray)
The predicted data used for detection node to decide the ROI.</p></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor anchor__h5 anchorWithHideOnScrollNavbar_3R7-" id="bullet-solver"></a>Bullet solver<a class="hash-link" href="#bullet-solver" title="Direct link to heading">#</a></h5><ul><li><p><strong><code>model_desire</code></strong> ( <a href="http://docs.ros.org/en/api/visualization_msgs/html/msg/Marker.html" target="_blank" rel="noopener noreferrer">visualization_msgs/Marker</a> )
Used to visualize the desired bullet trajectory.</p></li><li><p><strong><code>model_real</code></strong> ( <a href="http://docs.ros.org/en/api/visualization_msgs/html/msg/Marker.html" target="_blank" rel="noopener noreferrer">visualization_msgs/Marker</a> )
Used to visualize the trajectory that caculated by ballistic model in the current gimbal angle.</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters"></a>Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">#</a></h4><ul><li><p><strong><code>detection_topic</code></strong> (string, default: &quot;/detection&quot;)</p><p>The name of the topic where detection node gets predicted data.</p></li><li><p><strong><code>detection_frame</code></strong> (string, default: &quot;detection&quot;)</p><p>The name of the frame of detection.</p></li><li><p><strong><code>camera_topic</code></strong> (string, default: &quot;/galaxy_camera/camera_info&quot;)</p><p>The name of the topic that is determined that the detection node receives a new frame of image and sends the prediction data to the detection node.</p></li><li><p><strong><code>publish_rate</code></strong> (double)</p><p>Frequency (in Hz) of publishing gimbal error.</p></li><li><p><strong><code>chassis_angular_data_num</code></strong> (double)</p><p>The number of angle data of chassis.Used for chassis angular average filter.</p></li><li><p><strong><code>time_compensation</code></strong> (double)</p><p>Time(in s) of image transmission delay(in s).Used to compensate for the effects of images transimission delay</p></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor anchor__h5 anchorWithHideOnScrollNavbar_3R7-" id="bullet-solver-1"></a>Bullet solver<a class="hash-link" href="#bullet-solver-1" title="Direct link to heading">#</a></h5><p><em>Bullet solver is used to get the bullet drop point</em></p><ul><li><p><strong><code>resistance_coff_qd_10, resistance_coff_qd_15, resistance_coff_qd_16, resistance_coff_qd_18, resistance_coff_qd_30</code></strong> ( <code>double</code> )</p><p>The air resistance coefficient used for bullet solver when bullet speed is 10 m/s, 15 m/s, 16 m/s, 18 m/s and 30 m/s.</p></li><li><p><strong><code>g</code></strong> (double)</p><p>Acceleration of gravity.</p></li><li><p><strong><code>delay</code></strong> (double)</p><p>Shooting delay time(in s) after shooter get the shooting command.Used to compensate for the effects of launch delay.</p></li><li><p><strong><code>timeout</code></strong> (double)</p><p>Timeout time((in s)) of bullet solver.Used to judge whether bullet solver can caculate the bullet drop point.</p></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor anchor__h5 anchorWithHideOnScrollNavbar_3R7-" id="moving-average-filter"></a>Moving average filter<a class="hash-link" href="#moving-average-filter" title="Direct link to heading">#</a></h5><p><em>Moving average filter is used for filter the target armor center when target is spin.</em></p><ul><li><p><strong><code>is_debug</code></strong> ( <code>bool</code>, default: true )</p><p>The debug status.When it is true, debug data will be pulished on the filter topic.</p></li><li><p><strong><code>pos_data_num</code></strong> (double, default: 20)</p><p>The number of armor position data.</p></li><li><p><strong><code>vel_data_num</code></strong> (double, default: 30)</p><p>The number of armor linear velocity data.</p></li><li><p><strong><code>gyro_data_num</code></strong> (double, default: 100)</p><p>The number of target rotation speed data.</p></li><li><p><strong><code>center_data_num</code></strong> (double, default: 50)</p><p>The number of target rotation center position data.</p></li><li><p><strong><code>center_offset_z</code></strong> (double)</p><p>Offset(in meter) on the z axis.Used to compensate for the error of filter result on z axis.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="controller-configuration-examples"></a>Controller configuration examples<a class="hash-link" href="#controller-configuration-examples" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">gimbal_controller:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: rm_gimbal_controllers/Controller</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    time_compensation: 0.03</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    publish_rate: 100</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    chassis_angular_data_num: 20</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    camera_topic: &quot;/galaxy_camera/camera_info&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    yaw:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      joint: &quot;yaw_joint&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pid: { p: 8, i: 0, d: 0.4, i_clamp_max: 0.0, i_clamp_min: -0.0, antiwindup: true, publish_state: true }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pitch:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      joint: &quot;pitch_joint&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pid: { p: 10, i: 50, d: 0.3, i_clamp_max: 0.4, i_clamp_min: -0.4, antiwindup: true, publish_state: true }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    bullet_solver:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      resistance_coff_qd_10: 0.45</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      resistance_coff_qd_15: 0.1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      resistance_coff_qd_16: 0.7</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      resistance_coff_qd_18: 0.55</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      resistance_coff_qd_30: 3.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      g: 9.81</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      delay: 0.1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      dt: 0.001</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      timeout: 0.001</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      publish_rate: 50</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    moving_average_filter:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      is_debug: true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      center_offset_z: 0.05</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pos_data_num: 20</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      vel_data_num: 30</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      center_data_num: 50</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      gyro_data_num: 100</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="bugs--feature-requests"></a>Bugs &amp; Feature Requests<a class="hash-link" href="#bugs--feature-requests" title="Direct link to heading">#</a></h2><p>Please report bugs and request features using the <a href="https://github.com/rm-controls/rm_controllers/issues" target="_blank" rel="noopener noreferrer">Issue Tracker</a>.</p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/rm-controls/rm-controls.github.io/tree/master/current_docs/digging_deeper/controllers/rm_gimbal_controllers.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/digging_deeper/controllers/rm_chassis_controllers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ rm_chassis_controllers</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/digging_deeper/controllers/rm_shooter_controllers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">rm_shooter_controller ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a><ul><li><a href="#license" class="table-of-contents__link">License</a></li><li><a href="#hardware-interface-type" class="table-of-contents__link">Hardware interface type</a></li></ul></li><li><a href="#installation" class="table-of-contents__link">Installation</a><ul><li><a href="#installation-from-packages" class="table-of-contents__link">Installation from Packages</a></li><li><a href="#building-from-source" class="table-of-contents__link">Building from Source</a></li></ul></li><li><a href="#usage" class="table-of-contents__link">Usage</a></li><li><a href="#launch-files" class="table-of-contents__link">Launch files</a></li><li><a href="#ros-api" class="table-of-contents__link">ROS API</a></li><li><a href="#controller-configuration-examples" class="table-of-contents__link">Controller configuration examples</a></li><li><a href="#bugs--feature-requests" class="table-of-contents__link">Bugs &amp; Feature Requests</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021. Distributed by BSD 3-Clause License</div></div></div></footer></div>
<script src="/assets/js/runtime~main.86042bc5.js"></script>
<script src="/assets/js/main.5c2d5ba0.js"></script>
</body>
</html>